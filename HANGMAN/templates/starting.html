<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Hangman</title>
    <link rel="stylesheet" href="../static/starting.css">
</head>

<body>
    <!-- Add an audio element for the loading sound -->
    <audio id="loading-audio" src="{{url_for('static', filename='alarm.wav')}}" loop></audio>

    <div class="loader-wrapper">
        <div class="loader loader1"></div>
        <div class="loader loader2"></div>
        <div class="loader loader3"></div>
        <div class="loader loader4"></div>
        <div class="loader loader5"></div>
        <p id="loading-text">Game Loading...</p>
    </div>

    <div>
        <button id="hangman"></button>
        <!-- Add an ID to your start button -->
        <form action="/start" method="post">
            <button id="startButton"></button>
        </form>
    </div>
    
    <!-- Your game content -->
    <div id="game-content" style="display: none;">
        <!-- Add your game content here -->
    </div>

    <script>
        // Function to play the loading sound
        function playLoadingSound() {
            var audio = document.getElementById('loading-audio');
            audio.play().then(() => {
                // The audio started playing successfully
            }).catch((error) => {
                // Autoplay was prevented, handle the error
                console.error("Autoplay prevented. Please interact with the page to enable audio.");
            });
        }

        // Function to stop the loading sound
        function stopLoadingSound() {
            var audio = document.getElementById('loading-audio');
            audio.pause();
            audio.currentTime = 0;
        }
        setTimeout(function () {
            document.querySelector('.loader-wrapper').style.display = 'none';
            document.getElementById('game-content').style.display = 'block';
            // Play the loading sound when the loader is done
            playLoadingSound();
        }, 3000);
        
        // Function to handle the start button click
        function handleStartButtonClick() {
            // Play the loading sound when the button is clicked
            playLoadingSound();
            // Redirect to login.html after a delay
            setTimeout(function () {
                window.location.href = 'login.html';
            }, 500);
        }

        // Adding an event listener to the start button
        document.getElementById('startButton').addEventListener('click', handleStartButtonClick);
    </script>
</body>

</html>